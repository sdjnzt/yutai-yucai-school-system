import{r as l,I as w,u as A,a as R,j as e,R as k,B as c,S as m,D as h}from"./index-GgCtaIGn.js";import{F as s}from"./index-ChozH53D.js";import{T as z}from"./index-CcFIDmFY.js";import{C as O,R as T,a as C}from"./row-DkXY2Vpz.js";import{I as x}from"./index-aivIQGyG.js";import{R as F}from"./LockOutlined-BPT4dley.js";import{R as L}from"./SafetyCertificateOutlined-B4w3dwqz.js";import{s as f}from"./index-C6tIceSr.js";import"./EditOutlined-lBA9r8Oc.js";import"./EyeOutlined-DiEmTHLP.js";var B={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M521.7 82c-152.5-.4-286.7 78.5-363.4 197.7-3.4 5.3.4 12.3 6.7 12.3h70.3c4.8 0 9.3-2.1 12.3-5.8 7-8.5 14.5-16.7 22.4-24.5 32.6-32.5 70.5-58.1 112.7-75.9 43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 32.6 32.5 58.1 70.4 76 112.5C865.7 417.8 875 464.1 875 512c0 47.9-9.4 94.2-27.8 137.8-17.8 42.1-43.4 80-76 112.5s-70.5 58.1-112.7 75.9A352.8 352.8 0 01520.6 866c-47.9 0-94.3-9.4-137.9-27.8A353.84 353.84 0 01270 762.3c-7.9-7.9-15.3-16.1-22.4-24.5-3-3.7-7.6-5.8-12.3-5.8H165c-6.3 0-10.2 7-6.7 12.3C234.9 863.2 368.5 942 520.6 942c236.2 0 428-190.1 430.4-425.6C953.4 277.1 761.3 82.6 521.7 82zM395.02 624v-76h-314c-4.4 0-8-3.6-8-8v-56c0-4.4 3.6-8 8-8h314v-76c0-6.7 7.8-10.5 13-6.3l141.9 112a8 8 0 010 12.6l-141.9 112c-5.2 4.1-13 .4-13-6.3z"}}]},name:"login",theme:"outlined"};function g(){return g=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r},g.apply(this,arguments)}const E=(r,t)=>l.createElement(w,g({},r,{ref:t,icon:B})),M=l.forwardRef(E),{Title:I,Text:i}=z,G=()=>{const[r]=s.useForm(),t=A(),n=R(),[o,u]=l.useState(!1),[j,S]=l.useState("1234");l.useEffect(()=>{localStorage.removeItem("token")},[]);const d=()=>{const a=Math.random().toString(36).slice(-4).toUpperCase();S(a)},b=async a=>{var y,v;if(a.captcha.toUpperCase()!==j){f.error("验证码错误"),d();return}u(!0);try{if(await new Promise(p=>setTimeout(p,1e3)),a.username==="admin"&&a.password==="123456"){localStorage.setItem("token","dummy-token-"+Date.now()),f.success("登录成功");const p=((v=(y=n.state)==null?void 0:y.from)==null?void 0:v.pathname)||"/home";t(p,{replace:!0})}else f.error("用户名或密码错误"),d()}finally{u(!1)}};return e.jsxs("div",{style:{height:"100vh",background:"linear-gradient(120deg, #1890ff 0%, #722ed1 100%)",display:"flex",justifyContent:"center",alignItems:"center",position:"relative"},children:[e.jsxs("div",{style:{position:"absolute",top:0,left:0,right:0,textAlign:"center",padding:"40px 0",color:"#fff"},children:[e.jsx(I,{level:2,style:{color:"#fff",marginBottom:0},children:"鱼台县育才学校教务系统"}),e.jsx(i,{style:{color:"rgba(255, 255, 255, 0.85)",fontSize:16},children:"YUTAI YUCAI SCHOOL ACADEMIC AFFAIRS SYSTEM"})]}),e.jsxs(O,{style:{width:400,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"},children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:24},children:[e.jsx(I,{level:3,style:{marginBottom:8},children:"用户登录"}),e.jsx(i,{type:"secondary",children:"请输入您的账号和密码"})]}),e.jsxs(s,{form:r,onFinish:b,size:"large",children:[e.jsx(s.Item,{name:"username",rules:[{required:!0,message:"请输入用户名"}],children:e.jsx(x,{prefix:e.jsx(k,{}),placeholder:"用户名",autoComplete:"off"})}),e.jsx(s.Item,{name:"password",rules:[{required:!0,message:"请输入密码"}],children:e.jsx(x.Password,{prefix:e.jsx(F,{}),placeholder:"密码",autoComplete:"off"})}),e.jsx(s.Item,{children:e.jsxs(T,{gutter:8,children:[e.jsx(C,{span:16,children:e.jsx(s.Item,{name:"captcha",noStyle:!0,rules:[{required:!0,message:"请输入验证码"}],children:e.jsx(x,{prefix:e.jsx(L,{}),placeholder:"验证码",autoComplete:"off"})})}),e.jsx(C,{span:8,children:e.jsx(c,{block:!0,style:{background:"#fafafa",height:"40px",fontFamily:"monospace",fontSize:"20px",fontWeight:"bold",letterSpacing:"4px",cursor:"pointer"},onClick:d,children:j})})]})}),e.jsx(s.Item,{children:e.jsx(c,{type:"primary",htmlType:"submit",block:!0,loading:o,icon:e.jsx(M,{}),children:"登录"})}),e.jsx("div",{style:{textAlign:"center"},children:e.jsxs(m,{split:e.jsx(h,{type:"vertical"}),children:[e.jsx(c,{type:"link",size:"small",children:"忘记密码"}),e.jsx(c,{type:"link",size:"small",children:"帮助文档"})]})})]}),e.jsx(h,{style:{margin:"24px 0 16px"}}),e.jsx("div",{style:{textAlign:"center"},children:e.jsxs(m,{direction:"vertical",size:4,children:[e.jsx("div",{children:e.jsxs(m,{split:e.jsx(h,{type:"vertical"}),children:[e.jsx(i,{type:"secondary",children:"推荐浏览器"}),e.jsx(i,{type:"secondary",children:"分辨率 1920×1080"})]})}),e.jsx(i,{type:"secondary",children:"Copyright © 2025 鱼台县育才学校 版权所有"})]})})]})]})};export{G as default};
