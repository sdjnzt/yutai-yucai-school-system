import{r as o,I as re,j as e,i as te,D as f,g as P,d as ne,S as O,B as u}from"./index-BTwOKT3f.js";import{F as t}from"./index-B5Qs8cXU.js";import{S as s}from"./index-CLpJRL42.js";import{R as b,a,C as y,T as U}from"./row-BiJ_975k.js";import{S as $}from"./index-BDN0iJkd.js";import{T as j}from"./index-B6q4g7z4.js";import{R as ie}from"./ClockCircleOutlined-Dcxkv-Fm.js";import{P as F}from"./progress-C4hqfjPr.js";import{R as ae}from"./PlusOutlined-QSTMH81N.js";import{U as ce,R as oe}from"./UploadOutlined-74RyGYiB.js";import{R as de}from"./DownloadOutlined-q1Jjdrlj.js";import{F as he}from"./Table-DZlkqFoa.js";import{M as V}from"./index-rsM9MrC4.js";import{I as xe}from"./index-CkddrLwv.js";import{R as pe,a as ue}from"./EditOutlined-akouRDzn.js";import{P as je}from"./index-Bc-aGpd5.js";import{s as H}from"./index-BbcBtkkE.js";import{D as c}from"./index-BrilYyVN.js";import{T as me}from"./index-BnPCWB4i.js";import{T as _}from"./Timeline-Bd5tNf06.js";import{R as ve}from"./FileTextOutlined-CeMm_n-S.js";import{R as fe}from"./CheckCircleOutlined-COSW--De.js";import"./ClockCircleOutlined-CELcQ7Uv.js";import"./DeleteOutlined-DFutYCzo.js";import"./DownloadOutlined-DTidZHln.js";import"./EyeOutlined-BU4LtOU3.js";import"./EditOutlined-CZuKBKCf.js";var ge={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M688 312v-48c0-4.4-3.6-8-8-8H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8zm-392 88c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm144 452H208V148h560v344c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h272c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm445.7 51.5l-93.3-93.3C814.7 780.7 828 743.9 828 704c0-97.2-78.8-176-176-176s-176 78.8-176 176 78.8 176 176 176c35.8 0 69-10.7 96.8-29l94.7 94.7c1.6 1.6 3.6 2.3 5.6 2.3s4.1-.8 5.6-2.3l31-31a7.9 7.9 0 000-11.2zM652 816c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"file-search",theme:"outlined"};function M(){return M=Object.assign?Object.assign.bind():function(i){for(var m=1;m<arguments.length;m++){var x=arguments[m];for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&(i[g]=x[g])}return i},M.apply(this,arguments)}const Oe=(i,m)=>o.createElement(re,M({},i,{ref:m,icon:ge})),be=o.forwardRef(Oe),{Title:S,Paragraph:ye}=me,{TabPane:A}=U,{TextArea:K}=xe,Xe=()=>{const[i]=t.useForm(),[m,x]=o.useState(!1),[g,I]=o.useState(null),[J,w]=o.useState(!1),[C,z]=o.useState(null),[q,L]=o.useState(null),[B,Q]=o.useState(null),N=()=>{const l=[],r=[{name:"语文",type:"文科"},{name:"数学",type:"理科"},{name:"英语",type:"文科"},{name:"物理",type:"理科"},{name:"化学",type:"理科"},{name:"生物",type:"理科"},{name:"政治",type:"文科"},{name:"历史",type:"文科"},{name:"地理",type:"文科"}],h=["高一","高二","高三"],R=["上学期","下学期"],k={语文:["张明","李芳"],数学:["陈强","杨丽"],英语:["王静","赵伟"],物理:["周婷","吴超"],化学:["郑阳","徐磊"],生物:["马涛","胡军"],政治:["朱琳","郭静"],历史:["何勇","高峰"],地理:["林娜","谢明"]};return r.forEach(v=>{h.forEach(n=>{R.forEach(T=>{const E=k[v.name],le=`${n.slice(1)}${v.name}${T==="上学期"?"01":"02"}`;l.push({id:le,subject:v.name,subjectType:v.type,grade:n,term:T,teacher:E[Math.floor(Math.random()*E.length)],status:Math.random()<.7?"approved":"pending",progress:Math.floor(Math.random()*100),createTime:"2025-07-20",updateTime:"2025-07-25",objectives:`培养学生${v.name}学科核心素养，掌握基础知识和技能...`,content:[{week:"第1-2周",topic:"第一单元：基础概念",hours:8},{week:"第3-4周",topic:"第二单元：重点难点",hours:8},{week:"第5-6周",topic:"第三单元：实践应用",hours:8},{week:"第7-8周",topic:"第四单元：综合提升",hours:8}],materials:["教材","教学课件","练习题"],assessment:["课堂表现","作业完成","单元测试","期末考试"]})})})}),l},[p]=o.useState(N()),d=o.useMemo(()=>{const l=p.length,r=p.filter(n=>n.status==="approved").length,h=p.filter(n=>n.status==="pending").length,R=p.filter(n=>n.subjectType==="文科").length,k=p.filter(n=>n.subjectType==="理科").length,v=Math.round(p.reduce((n,T)=>n+T.progress,0)/l);return{total:l,approved:r,pending:h,artPlans:R,sciencePlans:k,averageProgress:v}},[p]),W=[{title:"计划编号",dataIndex:"id",key:"id",width:120},{title:"学科",dataIndex:"subject",key:"subject",render:(l,r)=>e.jsxs(O,{children:[e.jsx("span",{children:r.subject}),e.jsx(j,{color:r.subjectType==="文科"?"blue":"green",children:r.subjectType})]})},{title:"年级",dataIndex:"grade",key:"grade",width:100},{title:"学期",dataIndex:"term",key:"term",width:100},{title:"任课教师",dataIndex:"teacher",key:"teacher",width:100},{title:"进度",dataIndex:"progress",key:"progress",width:150,render:l=>e.jsx(F,{percent:l,size:"small"})},{title:"状态",dataIndex:"status",key:"status",width:100,render:l=>e.jsx(P,{status:l==="approved"?"success":"processing",text:l==="approved"?"已审核":"待审核"})},{title:"更新时间",dataIndex:"updateTime",key:"updateTime",width:120},{title:"操作",key:"action",width:200,render:(l,r)=>e.jsxs(O,{size:"middle",children:[e.jsx(u,{type:"text",icon:e.jsx(be,{}),onClick:()=>X(r),children:"详情"}),e.jsx(u,{type:"text",icon:e.jsx(pe,{}),onClick:()=>G(r),children:"编辑"}),e.jsx(je,{title:"确定要删除这个教学计划吗？",onConfirm:()=>Y(),okText:"确定",cancelText:"取消",children:e.jsx(u,{type:"text",danger:!0,icon:e.jsx(ue,{}),children:"删除"})})]})}],X=l=>{z(l),w(!0)},G=l=>{I(l),i.setFieldsValue(l),x(!0)},Y=l=>{H.success("删除成功")},Z=()=>{i.validateFields().then(l=>{console.log("Form values:",l),i.resetFields(),x(!1),I(null),H.success(g?"修改成功":"添加成功")})},D=[{name:"searchSubject",label:"学科",component:e.jsxs(s,{placeholder:"请选择学科",onChange:L,allowClear:!0,children:[e.jsx(s.Option,{value:"",children:"全部学科"}),e.jsxs(s.OptGroup,{label:"文科",children:[e.jsx(s.Option,{value:"语文",children:"语文"}),e.jsx(s.Option,{value:"英语",children:"英语"}),e.jsx(s.Option,{value:"政治",children:"政治"}),e.jsx(s.Option,{value:"历史",children:"历史"}),e.jsx(s.Option,{value:"地理",children:"地理"})]}),e.jsxs(s.OptGroup,{label:"理科",children:[e.jsx(s.Option,{value:"数学",children:"数学"}),e.jsx(s.Option,{value:"物理",children:"物理"}),e.jsx(s.Option,{value:"化学",children:"化学"}),e.jsx(s.Option,{value:"生物",children:"生物"})]})]})},{name:"searchGrade",label:"年级",component:e.jsxs(s,{placeholder:"请选择年级",onChange:Q,allowClear:!0,children:[e.jsx(s.Option,{value:"",children:"全部年级"}),e.jsx(s.Option,{value:"高一",children:"高一"}),e.jsx(s.Option,{value:"高二",children:"高二"}),e.jsx(s.Option,{value:"高三",children:"高三"})]})},{name:"searchTerm",label:"学期",component:e.jsxs(s,{placeholder:"请选择学期",allowClear:!0,children:[e.jsx(s.Option,{value:"",children:"全部学期"}),e.jsx(s.Option,{value:"上学期",children:"上学期"}),e.jsx(s.Option,{value:"下学期",children:"下学期"})]})},{name:"searchStatus",label:"状态",component:e.jsxs(s,{placeholder:"请选择状态",allowClear:!0,children:[e.jsx(s.Option,{value:"",children:"全部状态"}),e.jsx(s.Option,{value:"approved",children:"已审核"}),e.jsx(s.Option,{value:"pending",children:"待审核"})]})}],ee=l=>e.jsxs("div",{children:[e.jsxs(c,{title:"基本信息",column:3,bordered:!0,children:[e.jsx(c.Item,{label:"计划编号",children:l.id}),e.jsxs(c.Item,{label:"学科",children:[l.subject,e.jsx(j,{color:l.subjectType==="文科"?"blue":"green",style:{marginLeft:8},children:l.subjectType})]}),e.jsx(c.Item,{label:"年级",children:l.grade}),e.jsx(c.Item,{label:"学期",children:l.term}),e.jsx(c.Item,{label:"任课教师",children:l.teacher}),e.jsx(c.Item,{label:"状态",children:e.jsx(P,{status:l.status==="approved"?"success":"processing",text:l.status==="approved"?"已审核":"待审核"})}),e.jsx(c.Item,{label:"创建时间",children:l.createTime}),e.jsx(c.Item,{label:"更新时间",children:l.updateTime}),e.jsx(c.Item,{label:"完成进度",children:e.jsx(F,{percent:l.progress,size:"small"})})]}),e.jsx(f,{}),e.jsx(S,{level:5,children:"教学目标"}),e.jsx(ye,{children:l.objectives}),e.jsx(f,{}),e.jsx(S,{level:5,children:"教学内容"}),e.jsx(_,{children:l.content.map((r,h)=>e.jsxs(_.Item,{children:[e.jsxs("div",{style:{marginBottom:8},children:[e.jsx(j,{color:"blue",children:r.week}),e.jsxs(j,{color:"orange",children:[r.hours,"课时"]})]}),e.jsx("div",{children:r.topic})]},h))}),e.jsx(f,{}),e.jsx(S,{level:5,children:"教学资源"}),e.jsx(O,{wrap:!0,children:l.materials.map((r,h)=>e.jsx(j,{icon:e.jsx(ve,{}),children:r},h))}),e.jsx(f,{}),e.jsx(S,{level:5,children:"考核方式"}),e.jsx(O,{wrap:!0,children:l.assessment.map((r,h)=>e.jsx(j,{icon:e.jsx(fe,{}),children:r},h))})]}),se=p.filter(l=>!(q&&l.subject!==q||B&&l.grade!==B));return e.jsxs("div",{children:[e.jsxs(b,{gutter:16,style:{marginBottom:16},children:[e.jsx(a,{span:8,children:e.jsxs(y,{children:[e.jsx($,{title:"教学计划总数",value:d.total,suffix:"个",prefix:e.jsx(te,{})}),e.jsx(f,{style:{margin:"12px 0"}}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx(P,{status:"success",text:`已审核: ${d.approved}`}),e.jsx(P,{status:"processing",text:`待审核: ${d.pending}`})]})]})}),e.jsx(a,{span:8,children:e.jsxs(y,{children:[e.jsx($,{title:"学科分布",value:d.artPlans+d.sciencePlans,suffix:"个",prefix:e.jsx(ne,{})}),e.jsx(f,{style:{margin:"12px 0"}}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsxs(j,{color:"blue",children:["文科：",d.artPlans,"个"]}),e.jsxs(j,{color:"green",children:["理科：",d.sciencePlans,"个"]})]})]})}),e.jsx(a,{span:8,children:e.jsxs(y,{children:[e.jsx($,{title:"平均进度",value:d.averageProgress,suffix:"%",prefix:e.jsx(ie,{})}),e.jsx(f,{style:{margin:"12px 0"}}),e.jsx(F,{percent:d.averageProgress,size:"small"})]})})]}),e.jsx(y,{style:{marginBottom:16},children:e.jsxs(U,{defaultActiveKey:"search",children:[e.jsx(A,{tab:"搜索筛选",children:e.jsx(t,{layout:"inline",style:{marginBottom:16},children:e.jsx(b,{gutter:16,style:{marginBottom:16},children:D.map(l=>e.jsx(a,{xs:24,sm:12,md:8,lg:6,children:e.jsx(t.Item,{name:l.name,label:l.label,children:l.component})},l.name))})})},"search"),e.jsx(A,{tab:"快捷操作",children:e.jsxs(O,{children:[e.jsx(u,{type:"primary",icon:e.jsx(ae,{}),onClick:()=>{I(null),i.resetFields(),x(!0)},children:"新建计划"}),e.jsx(ce,{children:e.jsx(u,{icon:e.jsx(oe,{}),children:"导入计划"})}),e.jsx(u,{icon:e.jsx(de,{}),children:"导出计划"})]})},"operation")]})}),e.jsx(y,{children:e.jsx(he,{columns:W,dataSource:se,rowKey:"id",scroll:{x:1300},pagination:{pageSize:10,showQuickJumper:!0,showSizeChanger:!0,showTotal:l=>`共 ${l} 个教学计划`}})}),e.jsx(V,{title:g?"编辑教学计划":"新建教学计划",open:m,onOk:Z,onCancel:()=>{x(!1),I(null),i.resetFields()},width:800,children:e.jsxs(t,{form:i,layout:"vertical",children:[e.jsxs(b,{gutter:16,children:[e.jsx(a,{span:8,children:e.jsx(t.Item,{name:"subject",label:"学科",rules:[{required:!0,message:"请选择学科"}],children:e.jsxs(s,{placeholder:"请选择学科",children:[e.jsxs(s.OptGroup,{label:"文科",children:[e.jsx(s.Option,{value:"语文",children:"语文"}),e.jsx(s.Option,{value:"英语",children:"英语"}),e.jsx(s.Option,{value:"政治",children:"政治"}),e.jsx(s.Option,{value:"历史",children:"历史"}),e.jsx(s.Option,{value:"地理",children:"地理"})]}),e.jsxs(s.OptGroup,{label:"理科",children:[e.jsx(s.Option,{value:"数学",children:"数学"}),e.jsx(s.Option,{value:"物理",children:"物理"}),e.jsx(s.Option,{value:"化学",children:"化学"}),e.jsx(s.Option,{value:"生物",children:"生物"})]})]})})}),e.jsx(a,{span:8,children:e.jsx(t.Item,{name:"grade",label:"年级",rules:[{required:!0,message:"请选择年级"}],children:e.jsxs(s,{placeholder:"请选择年级",children:[e.jsx(s.Option,{value:"高一",children:"高一"}),e.jsx(s.Option,{value:"高二",children:"高二"}),e.jsx(s.Option,{value:"高三",children:"高三"})]})})}),e.jsx(a,{span:8,children:e.jsx(t.Item,{name:"term",label:"学期",rules:[{required:!0,message:"请选择学期"}],children:e.jsxs(s,{placeholder:"请选择学期",children:[e.jsx(s.Option,{value:"上学期",children:"上学期"}),e.jsx(s.Option,{value:"下学期",children:"下学期"})]})})})]}),e.jsxs(b,{gutter:16,children:[e.jsx(a,{span:12,children:e.jsx(t.Item,{name:"teacher",label:"任课教师",rules:[{required:!0,message:"请选择任课教师"}],children:e.jsxs(s,{placeholder:"请选择任课教师",children:[e.jsxs(s.OptGroup,{label:"文科教师",children:[e.jsx(s.Option,{value:"张明",children:"张明（语文）"}),e.jsx(s.Option,{value:"李芳",children:"李芳（语文）"}),e.jsx(s.Option,{value:"王静",children:"王静（英语）"}),e.jsx(s.Option,{value:"周婷",children:"周婷（政治）"}),e.jsx(s.Option,{value:"吴超",children:"吴超（历史）"}),e.jsx(s.Option,{value:"郑阳",children:"郑阳（地理）"})]}),e.jsxs(s.OptGroup,{label:"理科教师",children:[e.jsx(s.Option,{value:"陈强",children:"陈强（数学）"}),e.jsx(s.Option,{value:"杨丽",children:"杨丽（数学）"}),e.jsx(s.Option,{value:"赵伟",children:"赵伟（物理）"}),e.jsx(s.Option,{value:"徐磊",children:"徐磊（化学）"}),e.jsx(s.Option,{value:"马涛",children:"马涛（生物）"})]})]})})}),e.jsx(a,{span:12,children:e.jsx(t.Item,{name:"status",label:"状态",rules:[{required:!0,message:"请选择状态"}],children:e.jsxs(s,{placeholder:"请选择状态",children:[e.jsx(s.Option,{value:"pending",children:"待审核"}),e.jsx(s.Option,{value:"approved",children:"已审核"})]})})})]}),e.jsx(t.Item,{name:"objectives",label:"教学目标",rules:[{required:!0,message:"请输入教学目标"}],children:e.jsx(K,{rows:4,placeholder:"请输入本学期的教学目标，包括知识目标、能力目标和素养目标等"})}),e.jsx(t.Item,{name:"content",label:"教学内容",rules:[{required:!0,message:"请输入教学内容"}],children:e.jsx(K,{rows:6,placeholder:"请按周次输入教学内容，例如：\r第1-2周：第一单元 基础概念（8课时）\r第3-4周：第二单元 重点难点（8课时）\r..."})}),e.jsxs(b,{gutter:16,children:[e.jsx(a,{span:12,children:e.jsx(t.Item,{name:"materials",label:"教学资源",rules:[{required:!0,message:"请选择教学资源"}],children:e.jsxs(s,{mode:"multiple",placeholder:"请选择教学资源",children:[e.jsx(s.Option,{value:"教材",children:"教材"}),e.jsx(s.Option,{value:"教学课件",children:"教学课件"}),e.jsx(s.Option,{value:"练习题",children:"练习题"}),e.jsx(s.Option,{value:"实验材料",children:"实验材料"}),e.jsx(s.Option,{value:"教学视频",children:"教学视频"}),e.jsx(s.Option,{value:"参考资料",children:"参考资料"})]})})}),e.jsx(a,{span:12,children:e.jsx(t.Item,{name:"assessment",label:"考核方式",rules:[{required:!0,message:"请选择考核方式"}],children:e.jsxs(s,{mode:"multiple",placeholder:"请选择考核方式",children:[e.jsx(s.Option,{value:"课堂表现",children:"课堂表现"}),e.jsx(s.Option,{value:"作业完成",children:"作业完成"}),e.jsx(s.Option,{value:"实验操作",children:"实验操作"}),e.jsx(s.Option,{value:"小组展示",children:"小组展示"}),e.jsx(s.Option,{value:"单元测试",children:"单元测试"}),e.jsx(s.Option,{value:"期中考试",children:"期中考试"}),e.jsx(s.Option,{value:"期末考试",children:"期末考试"})]})})})]})]})}),e.jsx(V,{title:"教学计划详情",open:J,onCancel:()=>{w(!1),z(null)},footer:[e.jsx(u,{onClick:()=>w(!1),children:"关闭"},"close"),e.jsx(u,{type:"primary",onClick:()=>{w(!1),G(C)},children:"编辑"},"edit")],width:800,children:C&&ee(C)})]})};export{Xe as default};
