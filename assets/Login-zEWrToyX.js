import{r as c,I as v,j as e,R as I,B as l,S as m,D as p}from"./index-BVFfJd3t.js";import{F as t}from"./index-BiEj9eP2.js";import{T as w}from"./index-BuW5QNsB.js";import{C as b,R,a as j}from"./row-DAkbptQ2.js";import{I as h}from"./index-Bc9A0WOF.js";import{R as S}from"./LockOutlined-CXr8hnJM.js";import{R as A}from"./SafetyCertificateOutlined-DTxfsINg.js";import{s as x}from"./index-Ip_IvEgE.js";import"./EditOutlined-D7TqcQsM.js";import"./EyeOutlined-BsOnOFxh.js";var L={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M521.7 82c-152.5-.4-286.7 78.5-363.4 197.7-3.4 5.3.4 12.3 6.7 12.3h70.3c4.8 0 9.3-2.1 12.3-5.8 7-8.5 14.5-16.7 22.4-24.5 32.6-32.5 70.5-58.1 112.7-75.9 43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 32.6 32.5 58.1 70.4 76 112.5C865.7 417.8 875 464.1 875 512c0 47.9-9.4 94.2-27.8 137.8-17.8 42.1-43.4 80-76 112.5s-70.5 58.1-112.7 75.9A352.8 352.8 0 01520.6 866c-47.9 0-94.3-9.4-137.9-27.8A353.84 353.84 0 01270 762.3c-7.9-7.9-15.3-16.1-22.4-24.5-3-3.7-7.6-5.8-12.3-5.8H165c-6.3 0-10.2 7-6.7 12.3C234.9 863.2 368.5 942 520.6 942c236.2 0 428-190.1 430.4-425.6C953.4 277.1 761.3 82.6 521.7 82zM395.02 624v-76h-314c-4.4 0-8-3.6-8-8v-56c0-4.4 3.6-8 8-8h314v-76c0-6.7 7.8-10.5 13-6.3l141.9 112a8 8 0 010 12.6l-141.9 112c-5.2 4.1-13 .4-13-6.3z"}}]},name:"login",theme:"outlined"};function u(){return u=Object.assign?Object.assign.bind():function(r){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(r[n]=a[n])}return r},u.apply(this,arguments)}const N=(r,s)=>c.createElement(v,u({},r,{ref:s,icon:L})),O=c.forwardRef(N),{Title:f,Text:i}=w,q=()=>{const[r]=t.useForm(),[s,a]=c.useState(!1),[n,g]=c.useState("1234");c.useEffect(()=>(localStorage.clear(),document.body.classList.add("login-page"),()=>{document.body.classList.remove("login-page")}),[]);const d=()=>{const o=Math.random().toString(36).slice(-4).toUpperCase();g(o)},y=async o=>{if(o.captcha.toUpperCase()!==n){x.error("验证码错误"),d();return}a(!0);try{await new Promise(C=>setTimeout(C,1e3)),o.username==="admin"&&o.password==="123456"?(localStorage.setItem("token","dummy-token-"+Date.now()),x.success("登录成功"),window.location.replace("#/home")):(x.error("用户名或密码错误"),d())}finally{a(!1)}};return e.jsxs("div",{className:"login-container",children:[e.jsxs("div",{className:"login-header",children:[e.jsx(f,{level:2,className:"login-title",children:"鱼台县育才学校教务系统"}),e.jsx(i,{className:"login-subtitle",children:"YUTAI YUCAI SCHOOL ACADEMIC AFFAIRS SYSTEM"})]}),e.jsxs(b,{className:"login-card",children:[e.jsxs("div",{className:"login-welcome",children:[e.jsx(f,{level:3,style:{marginBottom:8},children:"用户登录"}),e.jsx(i,{type:"secondary",children:"请输入您的账号和密码"})]}),e.jsxs(t,{form:r,onFinish:y,size:"large",children:[e.jsx(t.Item,{name:"username",rules:[{required:!0,message:"请输入用户名"}],children:e.jsx(h,{prefix:e.jsx(I,{}),placeholder:"用户名",autoComplete:"off"})}),e.jsx(t.Item,{name:"password",rules:[{required:!0,message:"请输入密码"}],children:e.jsx(h.Password,{prefix:e.jsx(S,{}),placeholder:"密码",autoComplete:"off"})}),e.jsx(t.Item,{children:e.jsxs(R,{gutter:8,children:[e.jsx(j,{span:16,children:e.jsx(t.Item,{name:"captcha",noStyle:!0,rules:[{required:!0,message:"请输入验证码"}],children:e.jsx(h,{prefix:e.jsx(A,{}),placeholder:"验证码",autoComplete:"off"})})}),e.jsx(j,{span:8,children:e.jsx(l,{block:!0,className:"captcha-button",onClick:d,children:n})})]})}),e.jsx(t.Item,{children:e.jsx(l,{type:"primary",htmlType:"submit",block:!0,loading:s,icon:e.jsx(O,{}),children:"登录"})}),e.jsx("div",{style:{textAlign:"center"},children:e.jsxs(m,{split:e.jsx(p,{type:"vertical"}),children:[e.jsx(l,{type:"link",size:"small",children:"忘记密码"}),e.jsx(l,{type:"link",size:"small",children:"帮助文档"})]})})]}),e.jsx(p,{style:{margin:"24px 0 16px"}}),e.jsx("div",{className:"login-footer",children:e.jsxs(m,{direction:"vertical",size:4,children:[e.jsxs(m,{split:e.jsx(p,{type:"vertical"}),children:[e.jsx(i,{type:"secondary",children:"推荐浏览器"}),e.jsx(i,{type:"secondary",children:"分辨率 1920×1080"})]}),e.jsx(i,{type:"secondary",children:"Copyright © 2025 鱼台县育才学校 版权所有"})]})})]})]})};export{q as default};
