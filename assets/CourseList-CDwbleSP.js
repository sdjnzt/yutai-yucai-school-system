import{r as u,j as e,i as M,D as $,d as U,S as m,B as h,g as E}from"./index-GgCtaIGn.js";import{F as n}from"./index-ChozH53D.js";import{I as y}from"./index-aivIQGyG.js";import{S as s}from"./index-BC_b-_9i.js";import{R as j,a as i,C as g,T as A}from"./row-DkXY2Vpz.js";import{S as R}from"./index-B2tiHzLX.js";import{T as d}from"./index-SqXxCpUy.js";import{R as Y}from"./ClockCircleOutlined-Cuvl7mCO.js";import{R as Z}from"./SearchOutlined-D9oxVqPA.js";import{R as D}from"./PlusOutlined-BSFEOwfW.js";import{F as ee}from"./Table-BgKgGR4G.js";import{M as H}from"./index-DuzQfaQV.js";import{R as se,a as le}from"./EditOutlined-B-DNmUpU.js";import{P as re}from"./index-C2mskBlT.js";import{s as V}from"./index-C6tIceSr.js";import{D as a}from"./index-CCiITqgO.js";import"./EditOutlined-lBA9r8Oc.js";import"./EyeOutlined-DiEmTHLP.js";import"./ClockCircleOutlined-CELcQ7Uv.js";import"./DeleteOutlined-DFutYCzo.js";const{TabPane:z}=A,Oe=()=>{const[p]=n.useForm(),[P,f]=u.useState(!1),[F,b]=u.useState(null),[K,v]=u.useState(!1),[O,q]=u.useState(null),L=()=>{const l=[],t=[{name:"语文",type:"文科",credit:4},{name:"数学",type:"理科",credit:4},{name:"英语",type:"文科",credit:4},{name:"物理",type:"理科",credit:3},{name:"化学",type:"理科",credit:3},{name:"生物",type:"理科",credit:3},{name:"政治",type:"文科",credit:2},{name:"历史",type:"文科",credit:2},{name:"地理",type:"文科",credit:2}],w=["高一","高二","高三"],T=["必修","选修"],k=["期中考试","期末考试","月考","单元测试"],I=["多媒体教室","实验室","普通教室"];return t.forEach((x,S)=>{w.forEach(r=>{T.forEach(C=>{const X=`C${String(S+1).padStart(2,"0")}${r.slice(1)}${C==="必修"?"B":"X"}`;l.push({id:X,name:`${x.name}${C==="必修"?"":"选修"}`,subject:x.name,subjectType:x.type,grade:r,type:C,credit:x.credit,weeklyHours:x.credit*2,examTypes:k.slice(0,2+Math.floor(Math.random()*2)),classroom:I[Math.floor(Math.random()*I.length)],description:`${r}${x.name}${C}课程，培养学生${x.name}学科核心素养...`,status:"active"})})})}),l},[o]=u.useState(L()),c=u.useMemo(()=>{const l=o.length,t=o.filter(r=>r.type==="必修").length,w=o.filter(r=>r.type==="选修").length,T=o.filter(r=>r.subjectType==="文科").length,k=o.filter(r=>r.subjectType==="理科").length,I=o.filter(r=>r.grade==="高一").length,x=o.filter(r=>r.grade==="高二").length,S=o.filter(r=>r.grade==="高三").length;return{total:l,requiredCourses:t,electiveCourses:w,artCourses:T,scienceCourses:k,gradeOneCourses:I,gradeTwoCourses:x,gradeThreeCourses:S}},[o]),_=[{title:"课程编号",dataIndex:"id",key:"id",width:120},{title:"课程名称",dataIndex:"name",key:"name",render:(l,t)=>e.jsxs(m,{children:[e.jsx("span",{style:{fontWeight:"bold"},children:t.name}),e.jsx(d,{color:t.subjectType==="文科"?"blue":"green",children:t.subjectType})]})},{title:"年级",dataIndex:"grade",key:"grade",width:100},{title:"类型",dataIndex:"type",key:"type",width:100,render:l=>e.jsx(d,{color:l==="必修"?"orange":"purple",children:l})},{title:"学分",dataIndex:"credit",key:"credit",width:80},{title:"周课时",dataIndex:"weeklyHours",key:"weeklyHours",width:80},{title:"考核方式",dataIndex:"examTypes",key:"examTypes",render:l=>e.jsx(m,{wrap:!0,children:l.map(t=>e.jsx(d,{color:"blue",children:t},t))})},{title:"教室要求",dataIndex:"classroom",key:"classroom",width:120},{title:"状态",dataIndex:"status",key:"status",width:100,render:()=>e.jsx(E,{status:"success",text:"已启用"})},{title:"操作",key:"action",width:200,render:(l,t)=>e.jsxs(m,{size:"middle",children:[e.jsx(h,{type:"text",icon:e.jsx(M,{}),onClick:()=>G(t),children:"详情"}),e.jsx(h,{type:"text",icon:e.jsx(se,{}),onClick:()=>B(t),children:"编辑"}),e.jsx(re,{title:"确定要删除这门课程吗？",onConfirm:()=>J(),okText:"确定",cancelText:"取消",children:e.jsx(h,{type:"text",danger:!0,icon:e.jsx(le,{}),children:"删除"})})]})}],G=l=>{q(l),v(!0)},B=l=>{b(l),p.setFieldsValue(l),f(!0)},J=l=>{V.success("删除成功")},N=()=>{p.validateFields().then(l=>{console.log("Form values:",l),p.resetFields(),f(!1),b(null),V.success(F?"修改成功":"添加成功")})},Q=[{name:"searchName",label:"课程名称",component:e.jsx(y,{placeholder:"请输入课程名称"})},{name:"searchGrade",label:"年级",component:e.jsxs(s,{placeholder:"请选择年级",children:[e.jsx(s.Option,{value:"高一",children:"高一"}),e.jsx(s.Option,{value:"高二",children:"高二"}),e.jsx(s.Option,{value:"高三",children:"高三"})]})},{name:"searchType",label:"类型",component:e.jsxs(s,{placeholder:"请选择类型",children:[e.jsx(s.Option,{value:"必修",children:"必修"}),e.jsx(s.Option,{value:"选修",children:"选修"})]})},{name:"searchSubject",label:"学科",component:e.jsxs(s,{placeholder:"请选择学科",children:[e.jsx(s.Option,{value:"语文",children:"语文"}),e.jsx(s.Option,{value:"数学",children:"数学"}),e.jsx(s.Option,{value:"英语",children:"英语"}),e.jsx(s.Option,{value:"物理",children:"物理"}),e.jsx(s.Option,{value:"化学",children:"化学"}),e.jsx(s.Option,{value:"生物",children:"生物"}),e.jsx(s.Option,{value:"政治",children:"政治"}),e.jsx(s.Option,{value:"历史",children:"历史"}),e.jsx(s.Option,{value:"地理",children:"地理"})]})}],W=l=>e.jsxs(a,{column:2,children:[e.jsx(a.Item,{label:"课程编号",children:l.id}),e.jsxs(a.Item,{label:"课程名称",children:[l.name,e.jsx(d,{color:l.subjectType==="文科"?"blue":"green",style:{marginLeft:8},children:l.subjectType})]}),e.jsx(a.Item,{label:"所属学科",children:l.subject}),e.jsx(a.Item,{label:"年级",children:l.grade}),e.jsx(a.Item,{label:"课程类型",children:e.jsx(d,{color:l.type==="必修"?"orange":"purple",children:l.type})}),e.jsxs(a.Item,{label:"学分",children:[l.credit,"学分"]}),e.jsxs(a.Item,{label:"周课时",children:[l.weeklyHours,"课时/周"]}),e.jsx(a.Item,{label:"教室要求",children:l.classroom}),e.jsx(a.Item,{label:"考核方式",children:e.jsx(m,{wrap:!0,children:l.examTypes.map(t=>e.jsx(d,{color:"blue",children:t},t))})}),e.jsx(a.Item,{label:"状态",span:2,children:e.jsx(E,{status:"success",text:"已启用"})}),e.jsx(a.Item,{label:"课程描述",span:2,children:l.description})]});return e.jsxs("div",{children:[e.jsxs(j,{gutter:16,style:{marginBottom:16},children:[e.jsx(i,{span:8,children:e.jsxs(g,{children:[e.jsx(R,{title:"课程总数",value:c.total,prefix:e.jsx(M,{}),suffix:"门"}),e.jsx($,{style:{margin:"12px 0"}}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsxs(d,{color:"orange",children:["必修：",c.requiredCourses,"门"]}),e.jsxs(d,{color:"purple",children:["选修：",c.electiveCourses,"门"]})]})]})}),e.jsx(i,{span:8,children:e.jsxs(g,{children:[e.jsx(R,{title:"学科分布",value:c.artCourses+c.scienceCourses,prefix:e.jsx(U,{}),suffix:"门"}),e.jsx($,{style:{margin:"12px 0"}}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsxs(d,{color:"blue",children:["文科：",c.artCourses,"门"]}),e.jsxs(d,{color:"green",children:["理科：",c.scienceCourses,"门"]})]})]})}),e.jsx(i,{span:8,children:e.jsxs(g,{children:[e.jsx(R,{title:"年级分布",value:c.total,prefix:e.jsx(Y,{}),suffix:"门"}),e.jsx($,{style:{margin:"12px 0"}}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsxs("span",{children:["高一：",c.gradeOneCourses,"门"]}),e.jsxs("span",{children:["高二：",c.gradeTwoCourses,"门"]}),e.jsxs("span",{children:["高三：",c.gradeThreeCourses,"门"]})]})]})})]}),e.jsx(g,{style:{marginBottom:16},children:e.jsxs(A,{defaultActiveKey:"search",children:[e.jsx(z,{tab:"搜索筛选",children:e.jsxs(n,{layout:"inline",style:{marginBottom:16},children:[e.jsx(j,{gutter:16,style:{marginBottom:16},children:Q.map(l=>e.jsx(i,{xs:24,sm:12,md:8,lg:6,children:e.jsx(n.Item,{name:l.name,label:l.label,children:l.component})},l.name))}),e.jsx(j,{children:e.jsx(i,{span:24,style:{textAlign:"right"},children:e.jsxs(m,{children:[e.jsx(h,{children:"重置"}),e.jsx(h,{type:"primary",icon:e.jsx(Z,{}),children:"搜索"})]})})})]})},"search"),e.jsx(z,{tab:"快捷操作",children:e.jsx(h,{type:"primary",icon:e.jsx(D,{}),onClick:()=>{b(null),p.resetFields(),f(!0)},style:{marginRight:8},children:"添加课程"})},"operation")]})}),e.jsx(g,{children:e.jsx(ee,{columns:_,dataSource:o,rowKey:"id",scroll:{x:1300},pagination:{pageSize:10,showQuickJumper:!0,showSizeChanger:!0,showTotal:l=>`共 ${l} 门课程`}})}),e.jsx(H,{title:F?"编辑课程":"添加课程",open:P,onOk:N,onCancel:()=>{f(!1),b(null),p.resetFields()},width:800,children:e.jsxs(n,{form:p,layout:"vertical",children:[e.jsxs(j,{gutter:16,children:[e.jsx(i,{span:12,children:e.jsx(n.Item,{name:"name",label:"课程名称",rules:[{required:!0,message:"请输入课程名称"}],children:e.jsx(y,{placeholder:"请输入课程名称"})})}),e.jsx(i,{span:12,children:e.jsx(n.Item,{name:"subject",label:"所属学科",rules:[{required:!0,message:"请选择所属学科"}],children:e.jsxs(s,{placeholder:"请选择所属学科",children:[e.jsx(s.Option,{value:"语文",children:"语文"}),e.jsx(s.Option,{value:"数学",children:"数学"}),e.jsx(s.Option,{value:"英语",children:"英语"}),e.jsx(s.Option,{value:"物理",children:"物理"}),e.jsx(s.Option,{value:"化学",children:"化学"}),e.jsx(s.Option,{value:"生物",children:"生物"}),e.jsx(s.Option,{value:"政治",children:"政治"}),e.jsx(s.Option,{value:"历史",children:"历史"}),e.jsx(s.Option,{value:"地理",children:"地理"})]})})})]}),e.jsxs(j,{gutter:16,children:[e.jsx(i,{span:8,children:e.jsx(n.Item,{name:"grade",label:"年级",rules:[{required:!0,message:"请选择年级"}],children:e.jsxs(s,{placeholder:"请选择年级",children:[e.jsx(s.Option,{value:"高一",children:"高一"}),e.jsx(s.Option,{value:"高二",children:"高二"}),e.jsx(s.Option,{value:"高三",children:"高三"})]})})}),e.jsx(i,{span:8,children:e.jsx(n.Item,{name:"type",label:"课程类型",rules:[{required:!0,message:"请选择课程类型"}],children:e.jsxs(s,{placeholder:"请选择课程类型",children:[e.jsx(s.Option,{value:"必修",children:"必修"}),e.jsx(s.Option,{value:"选修",children:"选修"})]})})}),e.jsx(i,{span:8,children:e.jsx(n.Item,{name:"credit",label:"学分",rules:[{required:!0,message:"请输入学分"}],children:e.jsx(y,{type:"number",placeholder:"请输入学分"})})})]}),e.jsxs(j,{gutter:16,children:[e.jsx(i,{span:8,children:e.jsx(n.Item,{name:"weeklyHours",label:"周课时",rules:[{required:!0,message:"请输入周课时"}],children:e.jsx(y,{type:"number",placeholder:"请输入周课时"})})}),e.jsx(i,{span:8,children:e.jsx(n.Item,{name:"classroom",label:"教室要求",rules:[{required:!0,message:"请选择教室要求"}],children:e.jsxs(s,{placeholder:"请选择教室要求",children:[e.jsx(s.Option,{value:"多媒体教室",children:"多媒体教室"}),e.jsx(s.Option,{value:"实验室",children:"实验室"}),e.jsx(s.Option,{value:"普通教室",children:"普通教室"})]})})}),e.jsx(i,{span:8,children:e.jsx(n.Item,{name:"examTypes",label:"考核方式",rules:[{required:!0,message:"请选择考核方式"}],children:e.jsxs(s,{mode:"multiple",placeholder:"请选择考核方式",children:[e.jsx(s.Option,{value:"期中考试",children:"期中考试"}),e.jsx(s.Option,{value:"期末考试",children:"期末考试"}),e.jsx(s.Option,{value:"月考",children:"月考"}),e.jsx(s.Option,{value:"单元测试",children:"单元测试"})]})})})]}),e.jsx(n.Item,{name:"description",label:"课程描述",rules:[{required:!0,message:"请输入课程描述"}],children:e.jsx(y.TextArea,{rows:4,placeholder:"请输入课程描述"})})]})}),e.jsx(H,{title:"课程详细信息",open:K,onCancel:()=>{v(!1),q(null)},footer:[e.jsx(h,{onClick:()=>v(!1),children:"关闭"},"close"),e.jsx(h,{type:"primary",onClick:()=>{v(!1),B(O)},children:"编辑"},"edit")],width:800,children:O&&W(O)})]})};export{Oe as default};
