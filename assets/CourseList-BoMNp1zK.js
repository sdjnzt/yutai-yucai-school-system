import{r as j,j as e,k as B,D as S,e as Q,S as g,B as h,h as E}from"./index-C441b3o5.js";import{F as i}from"./index-69ANZo2j.js";import{I as f}from"./index-C9uuHkxk.js";import{S as s}from"./index-xUnQOwlC.js";import{R as u,a,C as b,T as z}from"./row-D40lmJSL.js";import{S as $}from"./index-BaEpK0HR.js";import{T as p}from"./index-5L1rTlaP.js";import{R as W}from"./ClockCircleOutlined-Cq08jx8Q.js";import{R as U}from"./SearchOutlined-C65hRrXr.js";import{R as Y}from"./PlusOutlined-DNJdH1G1.js";import{F as Z}from"./Table-DipylO3M.js";import{M as H}from"./index-C8kB5FZD.js";import{R as D,a as ee}from"./EditOutlined-Aq0L9nog.js";import{P as se}from"./index-C8WSSsaq.js";import{s as V}from"./index-BqxhjaZJ.js";import{D as d}from"./index-D2Dg9IU6.js";import"./EditOutlined-C7mBJc-E.js";import"./EyeOutlined-DaWebxTP.js";import"./ClockCircleOutlined-CELcQ7Uv.js";import"./DeleteOutlined-DFutYCzo.js";const{TabPane:M}=z,Ce=()=>{const[m]=i.useForm(),[A,v]=j.useState(!1),[R,C]=j.useState(null),[P,I]=j.useState(!1),[T,q]=j.useState(null),K=()=>{const r=[],n=[{name:"语文",type:"文科",credit:4,grades:["高一","高二","高三"]},{name:"数学",type:"理科",credit:4,grades:["高一","高二","高三"]},{name:"英语",type:"文科",credit:4,grades:["高一","高二","高三"]},{name:"物理",type:"理科",credit:3,grades:["高一","高二"]},{name:"化学",type:"理科",credit:3,grades:["高一","高二"]},{name:"生物",type:"理科",credit:3,grades:["高一","高二"]},{name:"政治",type:"文科",credit:2,grades:["高一","高二"]},{name:"历史",type:"文科",credit:2,grades:["高一","高二"]},{name:"地理",type:"文科",credit:2,grades:["高一","高二"]},{name:"信息技术",type:"理科",credit:2,grades:["高一"]},{name:"通用技术",type:"理科",credit:2,grades:["高一"]},{name:"音乐",type:"文科",credit:2,grades:["高一"]},{name:"美术",type:"文科",credit:2,grades:["高一"]},{name:"体育与健康",type:"文科",credit:2,grades:["高一","高二","高三"]}],k=[{name:"物理",type:"理科",credit:4,grades:["高三"]},{name:"化学",type:"理科",credit:4,grades:["高三"]},{name:"生物",type:"理科",credit:4,grades:["高三"]},{name:"政治",type:"文科",credit:4,grades:["高三"]},{name:"历史",type:"文科",credit:4,grades:["高三"]},{name:"地理",type:"文科",credit:4,grades:["高三"]},{name:"数学竞赛",type:"理科",credit:2,grades:["高二"]},{name:"物理竞赛",type:"理科",credit:2,grades:["高二"]},{name:"化学竞赛",type:"理科",credit:2,grades:["高二"]},{name:"生物竞赛",type:"理科",credit:2,grades:["高二"]},{name:"信息学竞赛",type:"理科",credit:2,grades:["高二"]}],O={required:["期中考试","期末考试","月考","单元测试"],elective:["期中考试","期末考试"]},w={语文:"普通教室",数学:"普通教室",英语:"多媒体教室",物理:"实验室",化学:"实验室",生物:"实验室",政治:"多媒体教室",历史:"多媒体教室",地理:"多媒体教室",信息技术:"计算机教室",通用技术:"实验室",音乐:"音乐教室",美术:"美术教室",体育与健康:"体育馆",数学竞赛:"普通教室",物理竞赛:"实验室",化学竞赛:"实验室",生物竞赛:"实验室",信息学竞赛:"计算机教室"};return n.forEach((t,y)=>{t.grades.forEach(x=>{const l=`C${String(y+1).padStart(2,"0")}${x.slice(1)}B`;r.push({id:l,name:t.name,subject:t.name,subjectType:t.type,grade:x,type:"必修",credit:t.credit,weeklyHours:t.credit*2,examTypes:O.required,classroom:w[t.name]||"普通教室",description:`${x}${t.name}必修课程，培养学生${t.name}学科核心素养，掌握基础知识和基本技能。`,status:"active"})})}),k.forEach((t,y)=>{t.grades.forEach(x=>{const l=`X${String(y+1).padStart(2,"0")}${x.slice(1)}X`;r.push({id:l,name:`${t.name}${t.grades.includes("高三")?"":"（选修）"}`,subject:t.name,subjectType:t.type,grade:x,type:"选修",credit:t.credit,weeklyHours:t.credit*2,examTypes:O.elective,classroom:w[t.name]||"普通教室",description:`${x}${t.name}选修课程，${t.grades.includes("高三")?"深入学习本学科知识，为高考做准备。":"提供学科拓展和竞赛培训。"}`,status:"active"})})}),r},[o]=j.useState(K()),c=j.useMemo(()=>{const r=o.length,n=o.filter(l=>l.type==="必修").length,k=o.filter(l=>l.type==="选修").length,O=o.filter(l=>l.subjectType==="文科").length,w=o.filter(l=>l.subjectType==="理科").length,t=o.filter(l=>l.grade==="高一").length,y=o.filter(l=>l.grade==="高二").length,x=o.filter(l=>l.grade==="高三").length;return{total:r,requiredCourses:n,electiveCourses:k,artCourses:O,scienceCourses:w,gradeOneCourses:t,gradeTwoCourses:y,gradeThreeCourses:x}},[o]),L=[{title:"课程编号",dataIndex:"id",key:"id",width:120},{title:"课程名称",dataIndex:"name",key:"name",render:(r,n)=>e.jsxs(g,{children:[e.jsx("span",{style:{fontWeight:"bold"},children:n.name}),e.jsx(p,{color:n.subjectType==="文科"?"blue":"green",children:n.subjectType})]})},{title:"年级",dataIndex:"grade",key:"grade",width:100},{title:"类型",dataIndex:"type",key:"type",width:100,render:r=>e.jsx(p,{color:r==="必修"?"orange":"purple",children:r})},{title:"学分",dataIndex:"credit",key:"credit",width:80},{title:"周课时",dataIndex:"weeklyHours",key:"weeklyHours",width:80},{title:"考核方式",dataIndex:"examTypes",key:"examTypes",render:r=>e.jsx(g,{wrap:!0,children:r.map(n=>e.jsx(p,{color:"blue",children:n},n))})},{title:"教室要求",dataIndex:"classroom",key:"classroom",width:120},{title:"状态",dataIndex:"status",key:"status",width:100,render:()=>e.jsx(E,{status:"success",text:"已启用"})},{title:"操作",key:"action",width:200,render:(r,n)=>e.jsxs(g,{size:"middle",children:[e.jsx(h,{type:"text",icon:e.jsx(B,{}),onClick:()=>X(n),children:"详情"}),e.jsx(h,{type:"text",icon:e.jsx(D,{}),onClick:()=>F(n),children:"编辑"}),e.jsx(se,{title:"确定要删除这门课程吗？",onConfirm:()=>_(),okText:"确定",cancelText:"取消",children:e.jsx(h,{type:"text",danger:!0,icon:e.jsx(ee,{}),children:"删除"})})]})}],X=r=>{q(r),I(!0)},F=r=>{C(r),m.setFieldsValue(r),v(!0)},_=r=>{V.success("删除成功")},G=()=>{m.validateFields().then(r=>{console.log("Form values:",r),m.resetFields(),v(!1),C(null),V.success(R?"修改成功":"添加成功")})},J=[{name:"searchName",label:"课程名称",component:e.jsx(f,{placeholder:"请输入课程名称"})},{name:"searchGrade",label:"年级",component:e.jsxs(s,{placeholder:"请选择年级",children:[e.jsx(s.Option,{value:"高一",children:"高一"}),e.jsx(s.Option,{value:"高二",children:"高二"}),e.jsx(s.Option,{value:"高三",children:"高三"})]})},{name:"searchType",label:"类型",component:e.jsxs(s,{placeholder:"请选择类型",children:[e.jsx(s.Option,{value:"必修",children:"必修"}),e.jsx(s.Option,{value:"选修",children:"选修"})]})},{name:"searchSubject",label:"学科",component:e.jsxs(s,{placeholder:"请选择学科",children:[e.jsx(s.Option,{value:"语文",children:"语文"}),e.jsx(s.Option,{value:"数学",children:"数学"}),e.jsx(s.Option,{value:"英语",children:"英语"}),e.jsx(s.Option,{value:"物理",children:"物理"}),e.jsx(s.Option,{value:"化学",children:"化学"}),e.jsx(s.Option,{value:"生物",children:"生物"}),e.jsx(s.Option,{value:"政治",children:"政治"}),e.jsx(s.Option,{value:"历史",children:"历史"}),e.jsx(s.Option,{value:"地理",children:"地理"})]})}],N=r=>e.jsxs(d,{column:2,children:[e.jsx(d.Item,{label:"课程编号",children:r.id}),e.jsxs(d.Item,{label:"课程名称",children:[r.name,e.jsx(p,{color:r.subjectType==="文科"?"blue":"green",style:{marginLeft:8},children:r.subjectType})]}),e.jsx(d.Item,{label:"所属学科",children:r.subject}),e.jsx(d.Item,{label:"年级",children:r.grade}),e.jsx(d.Item,{label:"课程类型",children:e.jsx(p,{color:r.type==="必修"?"orange":"purple",children:r.type})}),e.jsxs(d.Item,{label:"学分",children:[r.credit,"学分"]}),e.jsxs(d.Item,{label:"周课时",children:[r.weeklyHours,"课时/周"]}),e.jsx(d.Item,{label:"教室要求",children:r.classroom}),e.jsx(d.Item,{label:"考核方式",children:e.jsx(g,{wrap:!0,children:r.examTypes.map(n=>e.jsx(p,{color:"blue",children:n},n))})}),e.jsx(d.Item,{label:"状态",span:2,children:e.jsx(E,{status:"success",text:"已启用"})}),e.jsx(d.Item,{label:"课程描述",span:2,children:r.description})]});return e.jsxs("div",{children:[e.jsxs(u,{gutter:16,style:{marginBottom:16},children:[e.jsx(a,{span:8,children:e.jsxs(b,{children:[e.jsx($,{title:"课程总数",value:c.total,prefix:e.jsx(B,{}),suffix:"门"}),e.jsx(S,{style:{margin:"12px 0"}}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsxs(p,{color:"orange",children:["必修：",c.requiredCourses,"门"]}),e.jsxs(p,{color:"purple",children:["选修：",c.electiveCourses,"门"]})]})]})}),e.jsx(a,{span:8,children:e.jsxs(b,{children:[e.jsx($,{title:"学科分布",value:c.artCourses+c.scienceCourses,prefix:e.jsx(Q,{}),suffix:"门"}),e.jsx(S,{style:{margin:"12px 0"}}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsxs(p,{color:"blue",children:["文科：",c.artCourses,"门"]}),e.jsxs(p,{color:"green",children:["理科：",c.scienceCourses,"门"]})]})]})}),e.jsx(a,{span:8,children:e.jsxs(b,{children:[e.jsx($,{title:"年级分布",value:c.total,prefix:e.jsx(W,{}),suffix:"门"}),e.jsx(S,{style:{margin:"12px 0"}}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsxs("span",{children:["高一：",c.gradeOneCourses,"门"]}),e.jsxs("span",{children:["高二：",c.gradeTwoCourses,"门"]}),e.jsxs("span",{children:["高三：",c.gradeThreeCourses,"门"]})]})]})})]}),e.jsx(b,{style:{marginBottom:16},children:e.jsxs(z,{defaultActiveKey:"search",children:[e.jsx(M,{tab:"搜索筛选",children:e.jsxs(i,{layout:"inline",style:{marginBottom:16},children:[e.jsx(u,{gutter:16,style:{marginBottom:16},children:J.map(r=>e.jsx(a,{xs:24,sm:12,md:8,lg:6,children:e.jsx(i.Item,{name:r.name,label:r.label,children:r.component})},r.name))}),e.jsx(u,{children:e.jsx(a,{span:24,style:{textAlign:"right"},children:e.jsxs(g,{children:[e.jsx(h,{children:"重置"}),e.jsx(h,{type:"primary",icon:e.jsx(U,{}),children:"搜索"})]})})})]})},"search"),e.jsx(M,{tab:"快捷操作",children:e.jsx(h,{type:"primary",icon:e.jsx(Y,{}),onClick:()=>{C(null),m.resetFields(),v(!0)},style:{marginRight:8},children:"添加课程"})},"operation")]})}),e.jsx(b,{children:e.jsx(Z,{columns:L,dataSource:o,rowKey:"id",scroll:{x:1300},pagination:{pageSize:10,showQuickJumper:!0,showSizeChanger:!0,showTotal:r=>`共 ${r} 门课程`}})}),e.jsx(H,{title:R?"编辑课程":"添加课程",open:A,onOk:G,onCancel:()=>{v(!1),C(null),m.resetFields()},width:800,children:e.jsxs(i,{form:m,layout:"vertical",children:[e.jsxs(u,{gutter:16,children:[e.jsx(a,{span:12,children:e.jsx(i.Item,{name:"name",label:"课程名称",rules:[{required:!0,message:"请输入课程名称"}],children:e.jsx(f,{placeholder:"请输入课程名称"})})}),e.jsx(a,{span:12,children:e.jsx(i.Item,{name:"subject",label:"所属学科",rules:[{required:!0,message:"请选择所属学科"}],children:e.jsxs(s,{placeholder:"请选择所属学科",children:[e.jsx(s.Option,{value:"语文",children:"语文"}),e.jsx(s.Option,{value:"数学",children:"数学"}),e.jsx(s.Option,{value:"英语",children:"英语"}),e.jsx(s.Option,{value:"物理",children:"物理"}),e.jsx(s.Option,{value:"化学",children:"化学"}),e.jsx(s.Option,{value:"生物",children:"生物"}),e.jsx(s.Option,{value:"政治",children:"政治"}),e.jsx(s.Option,{value:"历史",children:"历史"}),e.jsx(s.Option,{value:"地理",children:"地理"})]})})})]}),e.jsxs(u,{gutter:16,children:[e.jsx(a,{span:8,children:e.jsx(i.Item,{name:"grade",label:"年级",rules:[{required:!0,message:"请选择年级"}],children:e.jsxs(s,{placeholder:"请选择年级",children:[e.jsx(s.Option,{value:"高一",children:"高一"}),e.jsx(s.Option,{value:"高二",children:"高二"}),e.jsx(s.Option,{value:"高三",children:"高三"})]})})}),e.jsx(a,{span:8,children:e.jsx(i.Item,{name:"type",label:"课程类型",rules:[{required:!0,message:"请选择课程类型"}],children:e.jsxs(s,{placeholder:"请选择课程类型",children:[e.jsx(s.Option,{value:"必修",children:"必修"}),e.jsx(s.Option,{value:"选修",children:"选修"})]})})}),e.jsx(a,{span:8,children:e.jsx(i.Item,{name:"credit",label:"学分",rules:[{required:!0,message:"请输入学分"}],children:e.jsx(f,{type:"number",placeholder:"请输入学分"})})})]}),e.jsxs(u,{gutter:16,children:[e.jsx(a,{span:8,children:e.jsx(i.Item,{name:"weeklyHours",label:"周课时",rules:[{required:!0,message:"请输入周课时"}],children:e.jsx(f,{type:"number",placeholder:"请输入周课时"})})}),e.jsx(a,{span:8,children:e.jsx(i.Item,{name:"classroom",label:"教室要求",rules:[{required:!0,message:"请选择教室要求"}],children:e.jsxs(s,{placeholder:"请选择教室要求",children:[e.jsx(s.Option,{value:"多媒体教室",children:"多媒体教室"}),e.jsx(s.Option,{value:"实验室",children:"实验室"}),e.jsx(s.Option,{value:"普通教室",children:"普通教室"})]})})}),e.jsx(a,{span:8,children:e.jsx(i.Item,{name:"examTypes",label:"考核方式",rules:[{required:!0,message:"请选择考核方式"}],children:e.jsxs(s,{mode:"multiple",placeholder:"请选择考核方式",children:[e.jsx(s.Option,{value:"期中考试",children:"期中考试"}),e.jsx(s.Option,{value:"期末考试",children:"期末考试"}),e.jsx(s.Option,{value:"月考",children:"月考"}),e.jsx(s.Option,{value:"单元测试",children:"单元测试"})]})})})]}),e.jsx(i.Item,{name:"description",label:"课程描述",rules:[{required:!0,message:"请输入课程描述"}],children:e.jsx(f.TextArea,{rows:4,placeholder:"请输入课程描述"})})]})}),e.jsx(H,{title:"课程详细信息",open:P,onCancel:()=>{I(!1),q(null)},footer:[e.jsx(h,{onClick:()=>I(!1),children:"关闭"},"close"),e.jsx(h,{type:"primary",onClick:()=>{I(!1),F(T)},children:"编辑"},"edit")],width:800,children:T&&N(T)})]})};export{Ce as default};
